<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>سیستم حسابداری بازرگانی فرش</title>
    <link rel="stylesheet" href="assets/css/bootstrap.rtl.min.css">
    <link rel="stylesheet" href="assets/css/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/css/persian-datepicker.min.css" />
    <link rel="stylesheet" href="assets/css/dataTables.bootstrap5.css">
    <link rel="stylesheet" href="assets/css/select2.min.css">
    <link rel="stylesheet" href="assets/css/select2-bootstrap-5-theme.rtl.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="login-overlay">
        <div id="login-form-container">
            <h3 class="mb-4">ورود به سیستم حسابداری</h3>
            <form id="login-form">
                <div class="mb-3">
                    <label for="username" class="form-label">نام کاربری</label>
                    <input type="text" class="form-control" id="username" required>
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label">رمز عبور</label>
                    <input type="password" class="form-control" id="password" required>
                </div>
                <button type="submit" class="btn btn-primary w-100">ورود</button>
                <div id="login-error" class="text-danger mt-3"></div>
            </form>
        </div>
    </div>

    <div class="loader" id="loader">
        <div class="spinner-border text-primary" role="status"><span class="visually-hidden">در حال بارگذاری...</span>
        </div>
    </div>

    <div class="container-fluid main-container">
        <header class="d-flex justify-content-between align-items-center p-3 mb-3 bg-white rounded shadow-sm">
            <div>
                <h3 class="mb-0 d-inline-block">سیستم حسابداری بازرگانی فرش</h3>
                <span id="user-info" class="ms-3"></span>
            </div>
            <div>
                <button id="show-change-password-modal-btn" class="btn btn-sm btn-outline-secondary me-2 d-none"><i class="bi bi-key-fill me-2"></i>تغییر رمز</button>
                <button id="logout-btn" class="btn btn-sm btn-outline-danger d-none"><i class="bi bi-box-arrow-right me-2"></i>خروج</button>
                <i class="bi bi-cash-coin fs-2 text-success d-inline-block align-middle"></i>
            </div>
        </header>
        <ul class="nav nav-tabs" id="mainTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="dashboard-tab" data-bs-toggle="tab" data-bs-target="#dashboard" type="button" role="tab"><i class="bi bi-grid-1x2-fill me-2"></i>داشبورد</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="sales-invoices-tab" data-bs-toggle="tab" data-bs-target="#sales-invoices" type="button" role="tab" data-table-name="sales_invoices"><i class="bi bi-receipt-cutoff me-2"></i>فاکتورهای فروش</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="purchase-invoices-tab" data-bs-toggle="tab" data-bs-target="#purchase-invoices" type="button" role="tab" data-table-name="purchase_invoices"><i class="bi bi-cart-check-fill me-2"></i>فاکتورهای خرید</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="products-tab" data-bs-toggle="tab" data-bs-target="#products" type="button" role="tab" data-table-name="products"><i class="bi bi-box-seam-fill me-2"></i>انبار و محصولات</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="consignment-tab" data-bs-toggle="tab" data-bs-target="#consignment" type="button" role="tab"><i class="bi bi-truck me-2"></i>محصولات امانی</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="checks-tab" data-bs-toggle="tab" data-bs-target="#checks" type="button" role="tab" data-table-name="checks"><i class="bi bi-bank me-2"></i>مدیریت چک‌ها</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="accounts-tab" data-bs-toggle="tab" data-bs-target="#accounts" type="button" role="tab" data-table-name="accounts"><i class="bi bi-collection-fill me-2"></i>بانک‌ها و صندوق</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="expenses-tab" data-bs-toggle="tab" data-bs-target="#expenses" type="button" role="tab" data-table-name="expenses"><i class="bi bi-wallet-fill me-2"></i>هزینه‌ها</button>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                    aria-expanded="false"><i class="bi bi-people-fill me-2"></i>اشخاص و کاربران</a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" data-bs-toggle="tab" href="#customers"
                            data-table-name="customers">مشتریان</a></li>
                    <li><a class="dropdown-item" data-bs-toggle="tab" href="#suppliers"
                            data-table-name="suppliers">تأمین‌کنندگان</a></li>
                    <li><a class="dropdown-item" data-bs-toggle="tab" href="#partners"
                            data-table-name="partners">شرکا</a></li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li><a class="dropdown-item" data-bs-toggle="tab" href="#users"
                            data-table-name="users"><i class="bi bi-person-gear me-2"></i>مدیریت کاربران</a></li>
                </ul>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                    aria-expanded="false"><i class="bi bi-graph-up-arrow me-2"></i>گزارشات</a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" data-bs-toggle="tab" href="#reports">گزارشات مالی</a></li>
                    <li><a class="dropdown-item" data-bs-toggle="tab" href="#activity-log"
                            data-table-name="activity_log">گزارش فعالیت کاربران</a></li>
                </ul>
            </li>
        </ul>
        <div class="tab-content pt-3" id="mainTabContent">
            <div class="tab-pane fade show active" id="dashboard" role="tabpanel">
                <h4>خلاصه وضعیت</h4>
                <div class="row">
                    <div class="col-lg-3 col-md-6 mb-3">
                        <div class="card text-white bg-primary h-100">
                            <div class="card-body">
                                <h5 class="card-title">کل فروش</h5>
                                <p class="card-text fs-4" id="dashboard-total-sales">۰ تومان</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-3">
                        <div class="card text-white bg-info h-100">
                            <div class="card-body">
                                <h5 class="card-title">کل خرید</h5>
                                <p class="card-text fs-4" id="dashboard-total-purchases">۰ تومان</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-3">
                        <div class="card text-white bg-warning h-100">
                            <div class="card-body">
                                <h5 class="card-title">کل هزینه‌ها</h5>
                                <p class="card-text fs-4" id="dashboard-total-expenses">۰ تومان</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-3">
                        <div class="card text-white bg-success h-100">
                            <div class="card-body">
                                <h5 class="card-title">سود/زیان ناخالص</h5>
                                <p class="card-text fs-4" id="dashboard-profit-loss">۰ تومان</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-7">
                        <div class="row">
                            <div class="col-12 col-md-6">
                                <div class="card">
                                    <div class="card-header">۵ فاکتور فروش اخیر</div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>#</th>
                                                        <th>مشتری</th>
                                                        <th>مبلغ کل</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="dashboard-recent-sales"></tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="card">
                                    <div class="card-header">۵ چک دریافتی نزدیک به سررسید</div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>شماره چک</th>
                                                        <th>مبلغ</th>
                                                        <th>تاریخ سررسید</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="dashboard-due-received-checks"></tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <div class="card">
                            <div class="card-header">نمودار تفکیک هزینه‌ها</div>
                            <div class="card-body" style="height: 300px;">
                                <canvas id="expensesPieChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header">۵ چک پرداختی نزدیک به سررسید</div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-sm">
                                        <thead>
                                            <tr>
                                                <th>شماره چک</th>
                                                <th>مبلغ</th>
                                                <th>تاریخ سررسید</th>
                                            </tr>
                                        </thead>
                                        <tbody id="dashboard-due-payable-checks"></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-pane fade" id="customers" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4>مدیریت مشتریان</h4>
                    <button class="btn btn-primary" id="add-customer-btn"><i class="bi bi-plus-circle me-2"></i>افزودن مشتری جدید</button>
                </div>
                <div class="input-group search-box">
                    <span class="input-group-text"><i class="bi bi-search"></i></span><input type="text" class="form-control" id="customer-search" placeholder="جستجو در نام، آدرس، تلفن، کد ملی...">
                </div>
                <div class="table-responsive">
                    <table class="table table-striped table-hover" id="customers-table">
                        <thead>
                            <tr>
                                <th class="sortable-header" data-sort-by="name">نام <span class="sort-indicator"></span>
                                </th>
                                <th>آدرس</th>
                                <th class="sortable-header" data-sort-by="phone">تلفن
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="nationalId">کد ملی
                                    <span class="sort-indicator"></span>
                                </th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="customers-table-body"></tbody>
                    </table>
                </div>
                <div class="pagination-container" data-table="customers"></div>
            </div>
            <div class="tab-pane fade" id="suppliers" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4>مدیریت تأمین‌کنندگان</h4>
                    <button class="btn btn-primary" id="add-supplier-btn"><i class="bi bi-plus-circle me-2"></i>افزودن تأمین‌کننده جدید</button>
                </div>
                <div class="input-group search-box">
                    <span class="input-group-text"><i class="bi bi-search"></i></span><input type="text" class="form-control" id="supplier-search" placeholder="جستجو در نام، تلفن، کد اقتصادی...">
                </div>
                <div class="table-responsive">
                    <table class="table table-striped table-hover" id="suppliers-table">
                        <thead>
                            <tr>
                                <th class="sortable-header" data-sort-by="name">نام <span class="sort-indicator"></span>
                                </th>
                                <th>آدرس</th>
                                <th class="sortable-header" data-sort-by="phone">تلفن
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="economicCode">کد اقتصادی
                                    <span class="sort-indicator"></span>
                                </th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="suppliers-table-body"></tbody>
                    </table>
                </div>
                <div class="pagination-container" data-table="suppliers"></div>
            </div>
            <div class="tab-pane fade" id="partners" role="tabpanel">
                <h4>مدیریت شرکا</h4>
                <div class="row">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">لیست شرکا
                                <button class="btn btn-primary btn-sm" id="add-partner-btn"><i class="bi bi-plus-circle"></i></button>
                            </div>
                            <ul class="list-group list-group-flush" id="partners-list"></ul>
                        </div>
                        <div class="card mt-3">
                            <div class="card-header">ثبت واریز/برداشت جدید</div>
                            <div class="card-body">
                                <form id="partner-transaction-form">
                                    <div class="mb-3">
                                        <label for="partner-select" class="form-label">انتخاب شریک</label><select class="form-select" id="partner-select" required></select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="partner-transaction-type" class="form-label">نوع تراکنش</label><select class="form-select" id="partner-transaction-type" required><option value="DEPOSIT">واریز</option><option value="WITHDRAWAL">برداشت</option></select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="partner-transaction-date" class="form-label">تاریخ</label><input type="text" class="form-control persian-datepicker" id="partner-transaction-date" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="partner-transaction-amount" class="form-label">مبلغ (تومان)</label><input type="text" class="form-control numeric-input" id="partner-transaction-amount" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="partner-transaction-account-id" class="form-label">به/از حساب</label>
                                        <select class="form-select" id="partner-transaction-account-id" required>
                                            <option value="">-- انتخاب کنید --</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="partner-transaction-desc" class="form-label">توضیحات</label><textarea class="form-control" id="partner-transaction-desc" rows="2"></textarea>
                                    </div><button type="submit" class="btn btn-success w-100">ثبت تراکنش</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">لیست تراکنش‌های شرکا</div>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover" id="partner-transactions-table">
                                    <thead>
                                        <tr>
                                            <th class="sortable-header" data-sort-by="partnerName">شریک
                                                <span class="sort-indicator"></span>
                                            </th>
                                            <th class="sortable-header" data-sort-by="date">تاریخ
                                                <span class="sort-indicator"></span>
                                            </th>
                                            <th>نوع</th>
                                            <th class="sortable-header" data-sort-by="amount">مبلغ
                                                <span class="sort-indicator"></span>
                                            </th>
                                            <th>حساب</th>
                                            <th>توضیحات</th>
                                            <th>عملیات</th>
                                        </tr>
                                    </thead>
                                    <tbody id="partner-transactions-table-body"></tbody>
                                </table>
                            </div>
                            <div class="pagination-container" data-table="partner-transactions"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="users" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4>مدیریت کاربران سیستم</h4>
                    <button class="btn btn-primary" id="show-register-modal-btn"><i class="bi bi-person-plus-fill me-2"></i>افزودن کاربر جدید</button>
                </div>
                <div class="table-responsive">
                    <table class="table table-striped table-hover" id="users-table">
                        <thead>
                            <tr>
                                <th class="sortable-header" data-sort-by="id">شناسه <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="username">نام کاربری
                                    <span class="sort-indicator"></span>
                                </th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="users-table-body"></tbody>
                    </table>
                </div>
                <div class="pagination-container" data-table="users"></div>
            </div>
            <div class="tab-pane fade" id="products" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4>مدیریت انبار و محصولات</h4>
                    <button class="btn btn-primary" id="add-product-btn"><i class="bi bi-plus-circle me-2"></i>افزودن محصول جدید</button>
                </div>
                <div class="input-group search-box">
                    <span class="input-group-text"><i class="bi bi-search"></i></span><input type="text" class="form-control" id="product-search" placeholder="جستجو در نام، ابعاد، توضیحات...">
                </div>
                <div class="table-responsive">
                    <table class="table table-striped table-hover" id="products-table">
                        <thead>
                            <tr>
                                <th class="sortable-header" data-sort-by="name">نام طرح
                                    <span class="sort-indicator"></span>
                                </th>
                                <th>توضیحات</th>
                                <th>موجودی ابعاد</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="products-table-body"></tbody>
                    </table>
                </div>
                <div class="pagination-container" data-table="products"></div>
            </div>
            <div class="tab-pane fade" id="consignment" role="tabpanel">
                <h4>مدیریت محصولات امانی</h4>
                <div class="card">
                    <div class="card-header">
                        <i class="bi bi-arrow-down-left-circle-fill text-success me-2"></i>
                        فاکتورهای امانی گرفته شده از تامین‌کنندگان
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover" id="consignment-purchases-table">
                                <thead>
                                    <tr>
                                        <th class="sortable-header" data-sort-by="id">#
                                            <span class="sort-indicator"></span>
                                        </th>
                                        <th class="sortable-header" data-sort-by="date">تاریخ
                                            <span class="sort-indicator"></span>
                                        </th>
                                        <th class="sortable-header" data-sort-by="supplierName">تأمین‌کننده
                                            <span class="sort-indicator"></span>
                                        </th>
                                        <th class="sortable-header" data-sort-by="totalAmount">مبلغ کل
                                            <span class="sort-indicator"></span>
                                        </th>
                                        <th>تخفیف</th>
                                        <th>وضعیت</th>
                                        <th>عملیات</th>
                                    </tr>
                                </thead>
                                <tbody id="consignment-purchases-table-body"></tbody>
                            </table>
                        </div>
                        <div class="pagination-container" data-table="consignment-purchases"></div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <i class="bi bi-arrow-up-right-circle-fill text-primary me-2"></i>
                        فاکتورهای امانی داده شده به مشتریان
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover" id="consignment-sales-table">
                                <thead>
                                    <tr>
                                        <th class="sortable-header" data-sort-by="id">#
                                            <span class="sort-indicator"></span>
                                        </th>
                                        <th class="sortable-header" data-sort-by="date">تاریخ
                                            <span class="sort-indicator"></span>
                                        </th>
                                        <th class="sortable-header" data-sort-by="customerName">مشتری
                                            <span class="sort-indicator"></span>
                                        </th>
                                        <th class="sortable-header" data-sort-by="totalAmount">مبلغ کل
                                            <span class="sort-indicator"></span>
                                        </th>
                                        <th>تخفیف</th>
                                        <th>وضعیت</th>
                                        <th>عملیات</th>
                                    </tr>
                                </thead>
                                <tbody id="consignment-sales-table-body"></tbody>
                            </table>
                        </div>
                        <div class="pagination-container" data-table="consignment-sales"></div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="purchase-invoices" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4>فاکتورهای خرید</h4>
                    <button class="btn btn-primary" id="add-purchase-invoice-btn"><i class="bi bi-plus-circle me-2"></i>ایجاد فاکتور خرید جدید</button>
                </div>
                <div class="input-group search-box">
                    <span class="input-group-text"><i class="bi bi-search"></i></span><input type="text" class="form-control" id="purchase-invoice-search" placeholder="جستجو در شماره فاکتور، نام تأمین‌کننده، مبالغ...">
                </div>
                <div class="table-responsive">
                    <table class="table table-striped table-hover" id="purchase-invoices-table">
                        <thead>
                            <tr>
                                <th class="sortable-header" data-sort-by="id"># <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="date">تاریخ
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="supplierName">تأمین‌کننده
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="totalAmount">مبلغ کل
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="discount">
                                    تخفیف<span class="sort-indicator"></span></th>
                                <th class="sortable-header" data-sort-by="paidAmount">مبلغ پرداختی
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="remainingAmount">مبلغ باقی‌مانده
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="remainingAmount">وضعیت
                                    <span class="sort-indicator"></span>
                                </th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="purchase-invoices-table-body"></tbody>
                    </table>
                </div>
                <div class="pagination-container" data-table="purchase-invoices"></div>
            </div>
            <div class="tab-pane fade" id="sales-invoices" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4>فاکتورهای فروش</h4>
                    <button class="btn btn-primary" id="add-sales-invoice-btn"><i class="bi bi-plus-circle me-2"></i>ایجاد فاکتور فروش جدید</button>
                </div>
                <div class="input-group search-box">
                    <span class="input-group-text"><i class="bi bi-search"></i></span><input type="text" class="form-control" id="sales-invoice-search" placeholder="جستجو در شماره فاکتور، نام مشتری، مبالغ...">
                </div>
                <div class="table-responsive">
                    <table class="table table-striped table-hover" id="sales-invoices-table">
                        <thead>
                            <tr>
                                <th class="sortable-header" data-sort-by="id"># <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="date">تاریخ
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="customerName">مشتری
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="totalAmount">مبلغ کل
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="discount">
                                    تخفیف<span class="sort-indicator"></span></th>
                                <th class="sortable-header" data-sort-by="paidAmount">مبلغ پرداختی
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="remainingAmount">مبلغ باقی‌مانده
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="remainingAmount">وضعیت
                                    <span class="sort-indicator"></span>
                                </th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="sales-invoices-table-body"></tbody>
                    </table>
                </div>
                <div class="pagination-container" data-table="sales-invoices"></div>
            </div>
            <div class="tab-pane fade" id="accounts" role="tabpanel">
                <div class="row">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">لیست حساب‌ها</h5>
                                <button class="btn btn-primary btn-sm" id="add-account-btn"><i class="bi bi-plus-circle"></i> افزودن</button>
                            </div>
                            <div id="accounts-list-container" class="list-group list-group-flush">
                                <div class="text-center p-3">
                                    <div class="spinner-border spinner-border-sm" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0" id="account-ledger-title">گردش حساب: --</h5>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover" id="account-transactions-table">
                                        <thead>
                                            <tr>
                                                <th class="text-end">تاریخ</th>
                                                <th class="text-end">شرح</th>
                                                <th class="text-end text-success">بستانکار (واریز)</th>
                                                <th class="text-end text-danger">بدهکار (برداشت)</th>
                                                <th class="text-end">مانده</th>
                                            </tr>
                                        </thead>
                                        <tbody id="account-transactions-table-body">
                                            <tr>
                                                <td colspan="5" class="text-center">لطفاً یک حساب را از لیست انتخاب
                                                    کنید.</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="expenses" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4>مدیریت هزینه‌ها</h4>
                    <button class="btn btn-primary" id="add-expense-btn"><i class="bi bi-plus-circle me-2"></i>ثبت هزینه جدید</button>
                </div>
                <div class="input-group search-box">
                    <span class="input-group-text"><i class="bi bi-search"></i></span><input type="text" class="form-control" id="expense-search" placeholder="جستجو در دسته‌بندی، توضیحات، مبلغ، نام حساب...">
                </div>
                <div class="table-responsive">
                    <table class="table table-striped table-hover" id="expenses-table">
                        <thead>
                            <tr>
                                <th class="sortable-header" data-sort-by="id"># <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="date">تاریخ
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="category">دسته‌بندی
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="amount">مبلغ (تومان)
                                    <span class="sort-indicator"></span>
                                </th>
                                <th>حساب پرداخت</th>
                                <th>توضیحات</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="expenses-table-body"></tbody>
                    </table>
                </div>
                <div class="pagination-container" data-table="expenses"></div>
            </div>
            <div class="tab-pane fade" id="checks" role="tabpanel">
                <h4>مدیریت چک‌ها</h4>
                <div class="input-group search-box">
                    <span class="input-group-text"><i class="bi bi-search"></i></span><input type="text" class="form-control" id="check-search" placeholder="جستجو در شماره چک، نام بانک، مبلغ...">
                </div>
                <div class="table-responsive">
                    <table class="table table-striped table-hover" id="checks-table">
                        <thead>
                            <tr>
                                <th class="sortable-header" data-sort-by="type">نوع چک
                                    <span class="sort-indicator"></span>
                                </th>
                                <th>شماره چک</th>
                                <th class="sortable-header" data-sort-by="bankName">بانک
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="amount">مبلغ (تومان)
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="dueDate">تاریخ سررسید
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="status">وضعیت
                                    <span class="sort-indicator"></span>
                                </th>
                                <th>مربوط به</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="checks-table-body"></tbody>
                    </table>
                </div>
                <div class="pagination-container" data-table="checks"></div>
            </div>
            <div class="tab-pane fade" id="reports" role="tabpanel">
                <h4>گزارش‌گیری مالی</h4>
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="row g-3 align-items-end">
                            <div class="col-md-3">
                                <label for="report-type" class="form-label">نوع گزارش</label>
                                <select class="form-select" id="report-type">
                                    <option value="profit-loss">سود و زیان</option>
                                    <option value="sales-invoices">فاکتورهای فروش</option>
                                    <option value="purchase-invoices">فاکتورهای خرید</option>
                                    <option value="accounts">گردش حساب بانک/صندوق</option>
                                    <option value="inventory">موجودی انبار</option>
                                    <option value="inventory-value">ارزش موجودی انبار</option>
                                    <option value="inventory-ledger">کاردکس کالا (گردش محصول)</option>
                                    <option value="expenses">هزینه‌ها</option>
                                    <option value="persons">صورتحساب اشخاص</option>
                                </select>
                            </div>
                            <div class="col-md-5" id="report-person-controls" style="display: none;">
                                <label for="report-person-select" class="form-label">انتخاب شخص</label>
                                <select class="form-select" id="report-person-select" data-placeholder="جستجو و انتخاب شخص..."></select>
                            </div>
                            <div class="col-md-5" id="report-account-controls" style="display: none;">
                                <label for="report-account-select" class="form-label">انتخاب حساب</label>
                                <select class="form-select" id="report-account-select" data-placeholder="جستجو و انتخاب حساب..."></select>
                            </div>
                            <div class="col-md-5" id="report-product-controls" style="display: none;">
                                <label for="report-product-select" class="form-label">انتخاب محصول</label>
                                <select class="form-select" id="report-product-select" data-placeholder="جستجو و انتخاب محصول..."></select>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-info w-100" id="generate-report-btn"><i class="bi bi-play-fill me-2"></i>تولید گزارش</button>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-secondary w-100" id="print-report-btn" style="display: none;"><i class="bi bi-printer me-2"></i>چاپ گزارش</button>
                            </div>
                        </div>
                        <div class="row g-3 align-items-end mt-1" id="report-date-filter">
                            <div class="col-md-3">
                                <label for="report-start-date" class="form-label">از تاریخ</label>
                                <input type="text" class="form-control persian-datepicker" id="report-start-date">
                            </div>
                            <div class="col-md-3">
                                <label for="report-end-date" class="form-label">تا تاریخ</label>
                                <input type="text" class="form-control persian-datepicker" id="report-end-date">
                            </div>
                        </div>
                    </div>
                </div>
                <div id="report-results-container"></div>
            </div>
            <div class="tab-pane fade" id="activity-log" role="tabpanel">
                <h4>گزارش فعالیت کاربران (۵۰۰ رویداد آخر)</h4>
                <div class="table-responsive">
                    <table class="table table-striped table-sm table-hover" id="activity-log-table">
                        <thead class="table-light">
                            <tr>
                                <th class="sortable-header" data-sort-by="username">کاربر
                                    <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable-header" data-sort-by="action_type">نوع عملیات
                                    <span class="sort-indicator"></span>
                                </th>
                                <th>شرح</th>
                                <th class="sortable-header" data-sort-by="timestamp">زمان
                                    <span class="sort-indicator"></span>
                                </th>
                            </tr>
                        </thead>
                        <tbody id="activity-log-table-body"></tbody>
                    </table>
                </div>
                <div class="pagination-container" data-table="activity-log"></div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="customerModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">افزودن/ویرایش مشتری</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="customer-form"><input type="hidden" id="customer-id">
                        <div class="mb-3"><label for="customer-name" class="form-label">نام</label><input type="text" class="form-control" id="customer-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="customer-address" class="form-label">آدرس</label><textarea class="form-control" id="customer-address" rows="2"></textarea>
                        </div>
                        <div class="mb-3"><label for="customer-phone" class="form-label">تلفن</label><input type="tel" class="form-control" id="customer-phone">
                        </div>
                        <div class="mb-3"><label for="customer-national-id" class="form-label">کد ملی</label><input type="text" class="form-control" id="customer-national-id" required>
                        </div>
                        <div class="mb-3">
                            <label for="customer-initial-balance" class="form-label">مانده حساب اولیه (بدهکاری)</label>
                            <input type="text" class="form-control numeric-input" id="customer-initial-balance" value="0">
                            <div class="form-text">مبلغی که مشتری از قبل به شما بدهکار است را وارد کنید.</div>
                        </div>
                        <button type="submit" class="btn btn-success w-100">ذخیره</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="supplierModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">افزودن/ویرایش تأمین‌کننده</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="supplier-form"><input type="hidden" id="supplier-id">
                        <div class="mb-3"><label for="supplier-name" class="form-label">نام</label><input type="text" class="form-control" id="supplier-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="supplier-address" class="form-label">آدرس</label><textarea class="form-control" id="supplier-address" rows="2"></textarea>
                        </div>
                        <div class="mb-3"><label for="supplier-phone" class="form-label">تلفن</label><input type="tel" class="form-control" id="supplier-phone">
                        </div>
                        <div class="mb-3">
                            <label for="supplier-economic-code" class="form-label">کد اقتصادی</label><input type="text" class="form-control" id="supplier-economic-code" required>
                        </div>
                        <div class="mb-3">
                            <label for="supplier-initial-balance" class="form-label">مانده حساب اولیه (بستانکاری)</label>
                            <input type="text" class="form-control numeric-input" id="supplier-initial-balance" value="0">
                            <div class="form-text">مبلغی که شما از قبل به تامین‌کننده بدهکار هستید را وارد کنید.</div>
                        </div>
                        <button type="submit" class="btn btn-success w-100">ذخیره</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="productModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">افزودن/ویرایش محصول</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="product-form">
                        <input type="hidden" id="product-id">
                        <div class="mb-3">
                            <label for="product-name" class="form-label">نام طرح</label>
                            <input type="text" class="form-control" id="product-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="product-description" class="form-label">توضیحات</label>
                            <textarea class="form-control" id="product-description" rows="2"></textarea>
                        </div>
                        <hr>
                        <h6>موجودی و ابعاد</h6>
                        <div id="product-stock-container">
                        </div>
                        <button type="button" class="btn btn-outline-primary btn-sm" id="add-product-stock-row">
                            <i class="bi bi-plus"></i> افزودن ردیف ابعاد
                        </button>
                        <button type="submit" class="btn btn-success w-100 mt-3">ذخیره</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="expenseModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ثبت/ویرایش هزینه</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="expense-form"><input type="hidden" id="expense-id">
                        <div class="mb-3">
                            <label for="expense-category" class="form-label">دسته‌بندی</label>
                            <select class="form-select" id="expense-category" required>
                                </select>
                        </div>
                        <div class="mb-3"><label for="expense-date" class="form-label">تاریخ</label><input type="text" class="form-control persian-datepicker" id="expense-date" required>
                        </div>
                        <div class="mb-3"><label for="expense-amount" class="form-label">مبلغ (تومان)</label><input type="text" class="form-control numeric-input" id="expense-amount" required>
                        </div>
                        <div class="mb-3">
                            <label for="expense-account-id" class="form-label">پرداخت از حساب</label>
                            <select class="form-select" id="expense-account-id" required>
                                <option value="">-- انتخاب کنید --</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="expense-description" class="form-label">توضیحات</label><textarea class="form-control" id="expense-description" rows="2"></textarea>
                        </div><button type="submit" class="btn btn-success w-100">ذخیره</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="partnerModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="partnerModalTitle">افزودن شریک</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="partner-form"><input type="hidden" id="partner-id">
                        <div class="mb-3"><label for="partner-name" class="form-label">نام شریک</label><input type="text" class="form-control" id="partner-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="partner-share" class="form-label">سهم (مثال: 0.25 برای ۲۵٪)</label><input type="number" step="0.01" max="1" min="0" class="form-control" id="partner-share" required>
                        </div><button type="submit" class="btn btn-success w-100">ذخیره</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="salesInvoiceModal" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="sales-invoice-modal-title">ایجاد/ویرایش فاکتور فروش</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="sales-invoice-form" novalidate><input type="hidden" id="sales-invoice-id">
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="sales-invoice-customer" class="form-label">مشتری</label><select class="form-select" id="sales-invoice-customer" required></select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="sales-invoice-date" class="form-label">تاریخ فاکتور</label><input type="text" class="form-control persian-datepicker" id="sales-invoice-date" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="sales-invoice-description" class="form-label">توضیحات فاکتور</label>
                                <textarea class="form-control" id="sales-invoice-description" rows="1"></textarea>
                            </div>
                        </div>
                        <hr>
                        <h6><i class="bi bi-list-ul me-2"></i>آیتم‌های فاکتور</h6>
                        <div id="sales-invoice-items-container"></div>
                        <button type="button" class="btn btn-outline-primary btn-sm mb-3" id="add-sales-invoice-item-btn"><i class="bi bi-plus"></i> افزودن ردیف</button>
                        <hr>
                        <h6><i class="bi bi-cash-stack me-2"></i>بخش پرداخت</h6>
                        <div id="sales-invoice-payments-container"></div>
                        <button type="button" class="btn btn-outline-secondary btn-sm mb-3" id="add-sales-invoice-payment-btn"><i class="bi bi-plus"></i> افزودن ردیف پرداخت</button>
                        <hr>
                        <div class="row justify-content-end">
                            <div class="col-md-5">
                                <ul class="list-group">
                                    <li class="list-group-item d-flex justify-content-between align-items-center">جمع کل
                                        فاکتور<span class="badge bg-primary rounded-pill fs-6" id="sales-invoice-total">۰ تومان</span>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between align-items-center">تخفیف
                                        <div class="input-group input-group-sm" style="width: 150px;">
                                            <input type="text" class="form-control numeric-input" id="sales-invoice-discount" value="0"><span class="input-group-text">تومان</span>
                                        </div>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between align-items-center">جمع
                                        پرداختی<span class="badge bg-success rounded-pill fs-6" id="sales-invoice-paid">۰ تومان</span>
                                    </li>
                                    <li
                                        class="list-group-item d-flex justify-content-between align-items-center fw-bold">
                                        مبلغ
                                        باقی‌مانده<span class="badge bg-danger rounded-pill fs-6" id="sales-invoice-remaining">۰ تومان</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">انصراف</button><button type="button" class="btn btn-success" id="save-sales-invoice-btn">ذخیره فاکتور</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="purchaseInvoiceModal" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="purchase-invoice-modal-title">ایجاد/ویرایش فاکتور خرید</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="purchase-invoice-form" novalidate><input type="hidden" id="purchase-invoice-id">
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="purchase-invoice-supplier" class="form-label">تأمین‌کننده</label><select class="form-select" id="purchase-invoice-supplier" required></select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="purchase-invoice-date" class="form-label">تاریخ فاکتور</label><input type="text" class="form-control persian-datepicker" id="purchase-invoice-date" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="purchase-invoice-description" class="form-label">توضیحات فاکتور</label>
                                <textarea class="form-control" id="purchase-invoice-description" rows="1"></textarea>
                            </div>
                        </div>
                        <hr>
                        <h6><i class="bi bi-list-ul me-2"></i>آیتم‌های فاکتور</h6>
                        <div id="purchase-invoice-items-container"></div>
                        <button type="button" class="btn btn-outline-primary btn-sm mb-3" id="add-purchase-invoice-item-btn"><i class="bi bi-plus"></i> افزودن ردیف</button>
                        <hr>
                        <h6><i class="bi bi-cash-stack me-2"></i>بخش پرداخت</h6>
                        <div id="purchase-invoice-payments-container"></div>
                        <button type="button" class="btn btn-outline-secondary btn-sm mb-3" id="add-purchase-invoice-payment-btn"><i class="bi bi-plus"></i> افزودن ردیف پرداخت</button>
                        <hr>
                        <div class="row justify-content-end">
                            <div class="col-md-5">
                                <ul class="list-group">
                                    <li class="list-group-item d-flex justify-content-between align-items-center">جمع کل
                                        فاکتور<span class="badge bg-primary rounded-pill fs-6" id="purchase-invoice-total">۰ تومان</span>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between align-items-center">تخفیف
                                        <div class="input-group input-group-sm" style="width: 150px;">
                                            <input type="text" class="form-control numeric-input" id="purchase-invoice-discount" value="0"><span class="input-group-text">تومان</span>
                                        </div>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between align-items-center">جمع
                                        پرداختی<span class="badge bg-success rounded-pill fs-6" id="purchase-invoice-paid">۰ تومان</span>
                                    </li>
                                    <li
                                        class="list-group-item d-flex justify-content-between align-items-center fw-bold">
                                        مبلغ
                                        باقی‌مانده<span class="badge bg-danger rounded-pill fs-6" id="purchase-invoice-remaining">۰ تومان</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">انصراف</button><button type="button" class="btn btn-success" id="save-purchase-invoice-btn">ذخیره فاکتور</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="registerModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ثبت نام کاربر جدید</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="register-form">
                        <div class="mb-3">
                            <label for="register-username" class="form-label">نام کاربری</label>
                            <input type="text" class="form-control" id="register-username" required>
                        </div>
                        <div class="mb-3">
                            <label for="register-password" class="form-label">رمز عبور</label>
                            <input type="password" class="form-control" id="register-password" required>
                        </div>
                        <div class="mb-3">
                            <label for="register-password-confirm" class="form-label">تکرار رمز عبور</label>
                            <input type="password" class="form-control" id="register-password-confirm" required>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">ثبت نام</button>
                        <div id="register-error" class="text-danger mt-3"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="changePasswordModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">تغییر رمز عبور</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="change-password-form">
                        <div class="mb-3">
                            <label for="current-password" class="form-label">رمز عبور فعلی</label>
                            <input type="password" class="form-control" id="current-password" required>
                        </div>
                        <div class="mb-3">
                            <label for="new-password" class="form-label">رمز عبور جدید</label>
                            <input type="password" class="form-control" id="new-password" required>
                        </div>
                        <div class="mb-3">
                            <label for="new-password-confirm" class="form-label">تکرار رمز عبور جدید</label>
                            <input type="password" class="form-control" id="new-password-confirm" required>
                        </div>
                        <button type="submit" class="btn btn-success w-100">ذخیره تغییرات</button>
                        <div id="change-password-error" class="text-danger mt-3"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="resetPasswordModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">بازنشانی رمز عبور کاربر</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="reset-password-form">
                        <input type="hidden" id="reset-user-id">
                        <p>شما در حال تغییر رمز عبور برای کاربر <strong id="reset-username-display"></strong> هستید.</p>
                        <div class="mb-3">
                            <label for="reset-new-password" class="form-label">رمز عبور جدید</label>
                            <input type="password" class="form-control" id="reset-new-password" required>
                        </div>
                        <div class="mb-3">
                            <label for="reset-new-password-confirm" class="form-label">تکرار رمز عبور جدید</label>
                            <input type="password" class="form-control" id="reset-new-password-confirm" required>
                        </div>
                        <button type="submit" class="btn btn-success w-100">ذخیره رمز جدید</button>
                        <div id="reset-password-error" class="text-danger mt-3"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="accountModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="account-modal-title">افزودن حساب جدید</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="account-form">
                        <input type="hidden" id="account-id">
                        <div class="mb-3">
                            <label for="account-name" class="form-label">نام حساب</label>
                            <input type="text" class="form-control" id="account-name" required placeholder="مثال: بانک ملت شعبه مرکزی یا صندوق">
                        </div>
                        <div class="mb-3">
                            <label for="account-bank-name" class="form-label">نام بانک</label>
                            <input type="text" class="form-control" id="account-bank-name" placeholder="مثال: ملت">
                        </div>
                        <div class="mb-3">
                            <label for="account-number" class="form-label">شماره حساب</label>
                            <input type="text" class="form-control" id="account-number">
                        </div>
                        <div class="mb-3">
                            <label for="account-card-number" class="form-label">شماره کارت</label>
                            <input type="text" class="form-control" id="account-card-number">
                        </div>
                        <div class="mb-3" id="initial-balance-wrapper">
                            <label for="account-initial-balance" class="form-label">موجودی اولیه</label>
                            <input type="text" class="form-control numeric-input" id="account-initial-balance" value="0">
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" role="switch" id="account-is-cash">
                            <label class="form-check-label" for="account-is-cash">این حساب صندوق وجه نقد است</label>
                        </div>
                        <button type="submit" class="btn btn-success w-100">ذخیره</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="cashCheckModal" tabindex="-1">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">وصول چک</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="cash-check-form">
                        <input type="hidden" id="cash-check-id">
                        <p>چک به کدام حساب واریز شود؟</p>
                        <div class="mb-3">
                            <label for="cash-check-account-id" class="form-label">انتخاب حساب</label>
                            <select class="form-select" id="cash-check-account-id" required></select>
                        </div>
                        <button type="submit" class="btn btn-success w-100">ثبت</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="confirmationModal" tabindex="-1">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmationModalTitle">تأیید عملیات</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p id="confirmationModalBody">آیا از انجام این عملیات مطمئن هستید؟</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">انصراف</button>
                    <button type="button" class="btn btn-danger" id="confirmActionBtn">تأیید</button>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/persian-date.min.js"></script>
    <script src="assets/js/persian-datepicker.min.js"></script>
    <script src="assets/js/dataTables.js"></script>
    <script src="assets/js/dataTables.bootstrap5.js"></script>
    <script src="assets/js/select2.min.js"></script>
    <script src="assets/js/chart.js"></script>
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/reports.js"></script>
    <script src="js/entity-manager.js"></script>
    <script src="js/partner-manager.js"></script>
    <script src="js/account-manager.js"></script>
    <script src="js/invoice-manager.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/app.js"></script>

</body>

</html>